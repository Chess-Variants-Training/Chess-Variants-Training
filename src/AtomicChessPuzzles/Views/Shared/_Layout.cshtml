@using Microsoft.AspNet.Http;
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>
        @if (IsSectionDefined("Title"))
        {
            @RenderSection("title");@: | Atomic Chess Puzzles
        }
        else
        {
            @:No title | Atomic Chess Puzzles
        }
    </title>
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <link href="~/styles/topbar.css" rel="stylesheet">
    <link href="~/styles/main.css" rel="stylesheet">
    <script src="~/scripts/main.js" type="text/javascript"></script>
    @if (IsSectionDefined("AddToHead"))
    {
        RenderSection("AddToHead");
    }
</head>
<body>
    <div id="topbar">
        <ul id="topbar-menu">
            <li>@Html.ActionLink("Home", "Index", "Home", null, null)</li>
            <li>@Html.ActionLink("Train", "Train", "Puzzle", null, null)</li>
            <li>@Html.ActionLink("Contribute", "Editor", "Puzzle", null, null)</li>
            <li class="right">
                @{  string u = null;
                    if (string.IsNullOrEmpty((u = Context.Session.GetString("username"))))
                    {
                        @:@Html.ActionLink("Log in", "Login", "User", null, null)
                    }
                    else
                    {
                        //@:@Html.ActionLink(u, "Profile", "User", new { name = u }, null)
                        @:<a id="username" href="#">@u</a><ul id="user-nav-content" class="invisible"><li>@Html.ActionLink("Profile", "Profile", "User", new { name = u }, null)</li><li>@Html.ActionLink("Log out", "Logout", "User")</li></ul>
                    }
                }
            </li>
        </ul>
    </div>
    <div id="bodycontainer">
        @RenderBody()
    </div>
</body>
</html>
